{
    "collab_server" : "",
    "contents" : "% Generated by roxygen2: do not edit by hand\n% Please edit documentation in R/getEnsemble.R\n\\name{getHisEnsem}\n\\alias{getHisEnsem}\n\\title{Get ensemble forecast from historical data.}\n\\usage{\ngetHisEnsem(TS, example, interval = 365, buffer = 0, plot = \"norm\",\n  output = \"data\", name = NULL, mv = 0, ...)\n}\n\\arguments{\n\\item{TS}{A time series dataframe, with first column Date, and second column value.}\n\n\\item{example}{A vector containing two strings showing the start and end date, which represent the \nforecasting period. Check details for more information.\n\nthe program will extract every possible period in TS you provided to generate the ensemble. Check details for \nmore information.}\n\n\\item{interval}{A number representing the interval of each ensemble member. NOTE: \"interval\" takes\n365 as a year, and 30 as a month, regardless of leap year and months with 31 days. So if you want the interval \nto be 2 years, set \\code{interval = 730}, which equals 2 * 365 ; if two months, set \\code{interval = 60}; \n2 days, \\code{interval = 2}, for other numbers that cannot be divided by 365 or 30 without remainder, it will treat the \nnumber as days.By defualt interval is set to be 365, a year.}\n\n\\item{buffer}{A number showing how many days are used as buffer period for models. Check details for more\ninformation.}\n\n\\item{plot}{A string showing whether the plot will be shown, e.g., 'norm' means normal plot (without any process), \n'cum' means cummulative plot, default is 'norm'. For other words there will be no plot.}\n\n\\item{output}{A string showing which type of output you want. Default is \"data\", if \"ggplot\", the \ndata that can be directly plotted by ggplot2 will be returned, which is easier for you to make series\nplots afterwards. NOTE: If \\code{output = 'ggplot'}, the missing value in the data will\nbe replaced by \\code{mv}, if assigned, default mv is 0.}\n\n\\item{name}{If \\code{output = 'ggplot'}, name has to be assigned to your output, in order to differentiate\ndifferent outputs in the later multiplot using \\code{getEnsem_comb}.}\n\n\\item{mv}{A number showing representing the missing value. When calculating the cumulative value, \nmissing value will be replaced by mv, default is 0.}\n\n\\item{...}{\\code{title, x, y} showing the title and x and y axis of the plot. e.g. \\code{title = 'aaa'}}\n}\n\\value{\nA ensemble time series using historical data as forecast.\n}\n\\description{\ngetHisEnsem use historical data as the forecasting input time series.\n}\n\\details{\n\\code{example} E.g., if you have a time series from 2000 to 2010. Assuming you are in 2003,\nyou want to forecast the period from 2003-2-1 to 2003-4-1. Then for each year in your input\ntime series, every year from 1st Feb to 1st Apr will be extracted to generate the ensemble\nforecasts. In this case your input example should be \\code{example = c('2003-2-1', '2003-4-1')}\n\n\\code{interval} doesn't care about leap year and the months with 31 days, it will take 365 as a year, and 30 as a month.\ne.g., if the interval is from 1999-2-1 to 1999-3-1, you should just set interval to 30, although the real interval is 28\ndays.\n\n\\code{example} and \\code{interval} controls how the ensemble will be generated. e.g. if the time series is from \n1990-1-1 to 2001-1-1.\n\nif \\code{example = c('1992-3-1', '1994-1-1')} and \\code{interval = 1095}, note, 1095 = 365 * 3, so the program treat\nthis as 3 years.\n\nThen you are supposed to get the ensemble consisting of following part:\n\n1. 1992-3-1 to 1994-1-1 first one is the example, and it's NOT start from 1990-3-1.\n2. 1995-3-1 to 1997-1-1 second one starts from 1993, because \"interval\" is 3 years.\n3. 1998-3-1 to 2000-1-1\n\nbecause the last one \"2000-3-1 to 2002-1-1\", 2002 exceeds the original TS range, so it will not be included.\n\nSometimes, there are leap years and months with 31 days included in some ensemble part, in which case the length of the data will\nbe different, e.g., 1999-1-1 to 1999-3-1 is 1 day less than 2000-1-1 to 2000-3-1. In this situation,\nthe data will use example as a standard. If the example is 1999-1-1 to 1999-3-1, then the latter one\nwill be changed to 2001-1-1 to 2000-2-29, which keeps the start Date and change the end Date.\n\nIf the end date is so important that cannot be changed, try to solve this problem by resetting\nthe example period, to make the event included in the example.\n\nGood set of example and interval can generate good ensemble.\n\n\\code{buffer}\nSometimes the model needs to run for a few days to warm up, before the forecast. E.g., if a forecast starts at\n'1990-1-20', for some model like MIKE NAM model, the run needs to be started about 14 days. So the input timeseries\nshould start from '1990-1-6'.\n\nBuffer is mainly used for the model hotstart. Sometimes the hot start file cannot contain all the parameters needed,\nonly some important parameters. In this case, the model needs to run for some time, to make other parameters ready\nfor the simulation.\n\n\n\\code{name}\nAssuming you have two ggplot outputs, you want to plot them together. In this situation, you\nneed a name column to differentiate one ggplot output from the other. You can assigne this name\nby the argument directly, name has to be assigned if \\code{output = 'ggplot'} is selected,\n}\n\\examples{\n\ndata(testdl)\n\na <- testdl[[1]]\n\n# Choose example from \"1994-2-4\" to \"1996-1-4\"\nb <- getHisEnsem(a, example = c('1994-2-4', '1996-1-4'))\n\n# Default interval is one year, can be set to other values, check help for information.\n\n# Take 7 months as interval\nb <- getHisEnsem(a, example = c('1994-2-4', '1996-1-4'), interval = 210, plot = 'cum') \n# Take 30 days as buffer\nb <- getHisEnsem(a, example = c('1994-2-4', '1996-1-4'), interval = 210, buffer = 30)\n\n\n# More examples can be found in the user manual on https://yuanchao-xu.github.io/hyfo/\n\n\n}\n\\references{\n\\itemize{\n\\item Hadley Wickham (2007). Reshaping Data with the reshape Package. Journal of Statistical Software,\n21(12), 1-20. URL http://www.jstatsoft.org/v21/i12/.\n\\item H. Wickham. ggplot2: elegant graphics for data analysis. Springer New York, 2009.\n}\n}\n\n",
    "created" : 1487956279845.000,
    "dirty" : false,
    "encoding" : "ASCII",
    "folds" : "",
    "hash" : "439558619",
    "id" : "AE5809FB",
    "lastKnownWriteTime" : 1488018205,
    "last_content_update" : 1488018205,
    "path" : "~/GitHub/hyfo/man/getHisEnsem.Rd",
    "project_path" : "man/getHisEnsem.Rd",
    "properties" : {
    },
    "relative_order" : 33,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_doc"
}