{
    "contents" : "#' Collect data from the gauging stations in spain, catchement Anarbe\n#' \n#' @param folderName A string showing the path of the folder holding different csv files.\n#' @param output A boolean showing whether the output is given, default is T.\n#' @return The collected data from different csv files.\n#' @examples\n#' \n#' #use internal data as an example.\n#' file <- system.file(\"extdata\", \"1999.csv\", package = \"hyfo\")\n#' folder <- strsplit(file, '1999')[[1]][1]\n#' a <- collectData_csv_anarbe(folder)\n#' \n#' @references http://meteo.navarra.es/estaciones/mapadeestaciones.cfm\n#' @source http://meteo.navarra.es/estaciones/mapadeestaciones.cfm\n#' @export\n#' @importFrom utils tail\ncollectData_csv_anarbe <- function(folderName, output = TRUE){\n  \n  fileNames <- list.files(folderName, pattern='*.csv', full.names = TRUE)\n  data <- lapply(fileNames, readColumn_csv_anarbe)\n  data <- do.call('rbind', data)\n  data <- data[, 1:2]\n  data[, 1] <- as.Date(data[, 1], format = '%d/%m/%Y')\n  \n  #newFileName <- file.choose(new = T)\n  #write.table(data_new,file=newFileName,row.names = F, col.names = F,sep=',')\n  a <- unlist(strsplit(folderName, '\\\\\\\\|/'))\n  tarName <- tail(a, 2)[1]\n  colnames(data) <- c('Date', tarName)\n  \n  if (output) return(data)\n}\n\n\nreadColumn_csv_anarbe <- function(fileName){\n  data <- read.csv(fileName, skip = 3)\n  endIndex <- which(data == '', arr.ind = TRUE)[1]-1\n  \n  data <- data[1:endIndex, ]\n  \n  if (!is.null(levels(data[, 2]))) {\n    data[, 2] <- as.numeric(levels((data[, 2])))[data[, 2]]\n  }\n  \n  colnames(data) <- c('Date', 'target')\n  message(fileName)\n  \n  return(data)\n}\n\n",
    "created" : 1435785846686.000,
    "dirty" : false,
    "encoding" : "ASCII",
    "folds" : "",
    "hash" : "2322687411",
    "id" : "ABB71AA6",
    "lastKnownWriteTime" : 1435781761,
    "path" : "~/hyfo/R/collectData_csv.R",
    "project_path" : "R/collectData_csv.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}